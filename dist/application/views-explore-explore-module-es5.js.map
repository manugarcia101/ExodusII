{"version":3,"sources":["webpack:///src/app/shared/filter-pipe.ts","webpack:///src/app/views/explore/explore-routing.module.ts","webpack:///src/app/views/explore/explore.module.ts","webpack:///src/app/views/explore/explorer/explorer.component.ts","webpack:///src/app/views/explore/explorer/explorer.component.html"],"names":["SearchFilterPipe","value","search","solution","filter","v","aux","CITY_NAME","toLowerCase","indexOf","name","routes","path","component","ExploreRoutingModule","forChild","imports","exports","ExploreModule","declarations","ExplorerComponent","actRoute","router","fb","api","map","myControl","options","zoom","container","valueCity","valueCountry","cityData","countryData","showDropDown","states","currencies","currentCurrencie","selected","longitude","latitude","cityDataSal","countryDataSal","factorChange","disabled","id","initCityData","snapshot","params","mySubscriptionExplore","events","subscribe","event","navigated","localStorageFactor","JSON","parse","localStorage","getItem","localStorageCurrencie","cityId","x","initForm","element","split","explore","getAllCities","getCurrencies","filteredOptions","valueChanges","pipe","_filter","filterValue","option","includes","stateForm","group","COUNTRY_NAME","patchValue","navigate","getCityData","getCountryData","exploration","document","getElementById","innerHTML","targetDivCity","targetDivCountry","Latitude","Longitude","cityDiv","createElement","countryDiv","city","cityCpi","cityHealth","cityPollution","cityPurchasing","cityQli","cityRent","citySafety","cityTraffic","textContent","City_name","Cpi","Math","round","Health","Pollution","Purchasing","Qli","Rent","Safety","Traffic","append","citySalary","Salary","country","countryCpi","countryDiversity","countryEmployment","countryEnvironment","countryInfraestructure","countryHealth","countryPollution","countryPurchasing","countrySafety","countrySalary","countryTraffic","Country","Diversity","Employment","Environment","Infraestructure","Purchasing_power","weather","weatherLink","className","href","toLocaleLowerCase","target","onMapChange","getCurrencyChange","changeCurrencieValues","factor","newCurrencie","citySal","countrySal","setItem","stringify","index","getMapCities","data","buildMap","vec","count","sum","i","length","checked","pqli","innerText","unsubscribe","toggleDropDown","initExplore","personalIndex","currencieChange","selector","templateUrl","styleUrls"],"mappings":"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","file":"views-explore-explore-module-es5.js","sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({name: 'searchFilter'})\nexport class SearchFilterPipe implements PipeTransform {\n    transform(value: any, search: string): any {\n         if  (!search) {return value; }\n         let solution = value.filter(v => {\n            if ( !v ) {return;}\n            const aux = v.CITY_NAME;\n           return  aux.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n        })\n        return solution;\n    }\n}","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ExplorerComponent } from './explorer/explorer.component';\n\n\nconst routes: Routes = [\n  { path: 'city', component: ExplorerComponent },\n  { path: 'city/:id', component: ExplorerComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ExploreRoutingModule { }","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ExploreRoutingModule } from './explore-routing.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { ExplorerComponent } from './explorer/explorer.component';\nimport { ChartsModule } from 'ng2-charts';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatIconModule } from '@angular/material/icon';\nimport {MatExpansionModule} from '@angular/material/expansion';\nimport {MatSelectModule} from '@angular/material/select';\nimport { SearchFilterPipe } from '../../shared/filter-pipe';\n\n\n@NgModule({\n  declarations: [\n    ExplorerComponent,\n    SearchFilterPipe,\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ExploreRoutingModule,\n    ChartsModule,\n    MatButtonModule,\n    MatAutocompleteModule,\n    MatCheckboxModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatMenuModule,\n    MatIconModule,\n    MatExpansionModule,\n    MatSelectModule,\n  ]\n})\nexport class ExploreModule { }\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ApiService } from 'src/app/shared/services/api.service';\nimport { MapService } from 'src/app/shared/services/map.service';\nimport { tap, startWith, map } from 'rxjs/operators';\nimport { FormGroup, FormBuilder, FormControl } from '@angular/forms';\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-explorer',\n  templateUrl: './explorer.component.html',\n  styleUrls: ['./explorer.component.scss']\n})\nexport class ExplorerComponent implements OnInit {\n\n  myControl = new FormControl();\n  options: string[] = ['Sevilla', 'Segovia', 'Soria'];\n  filteredOptions: Observable<string[]>;\n\n  zoom = 5;\n  container = 'mapExplorer';\n\n  stateForm: FormGroup;\n  apiS: ApiService;\n  valueCity = '';\n  valueCountry = '';\n  cityData = [];\n  countryData = [];\n  showDropDown = false;\n\n  states = [];\n  currencies = ['USD','EUR'];\n  currentCurrencie = 'USD';\n  selected = \"USD\";\n\n  longitude = 0;\n  latitude = 0;\n\n  aux = '';\n  cityDataSal = 0;\n  countryDataSal = 0;\n  factorChange = 1;\n  disabled = true;\n  mySubscriptionExplore: any;\n\n  id = '';\n\n  constructor(private actRoute: ActivatedRoute, private router: Router, private fb: FormBuilder, private api: ApiService, private map: MapService) {\n    this.initCityData(this.actRoute.snapshot.params.id);\n    this.mySubscriptionExplore = this.router.events.subscribe((event) => {\n      if (event instanceof NavigationEnd) {\n        this.router.navigated = false;\n      }\n    });\n    const localStorageFactor = JSON.parse(localStorage.getItem('changedFactor'))\n    const localStorageCurrencie = JSON.parse(localStorage.getItem('changedCurrencie'))\n    if(localStorageCurrencie !== null && localStorageFactor !== null){\n      if(localStorageCurrencie !== 'USD'){\n        this.factorChange = localStorageFactor;\n      } else {\n        this.factorChange = 1;\n      }\n      this.currentCurrencie = localStorageCurrencie;\n      this.selected = localStorageCurrencie;\n    }\n  }\n\n  initCityData(cityId){\n    let x = typeof cityId;\n    if(x === 'undefined'){\n      this.initForm();\n    } else {\n      this.initForm()\n      this.aux = cityId;\n      let element = cityId.split(\", \");\n      this.valueCity = element[0];\n      this.valueCountry = element[1];\n      this.explore();\n    }\n  }\n\n  ngOnInit(): void {\n    this.api.getAllCities().subscribe(x => this.states = x);\n    this.api.getCurrencies().subscribe(x => this.currencies = [...this.currencies, ...x]);\n    this.filteredOptions = this.myControl.valueChanges\n    .pipe(\n      startWith(''),\n      map(value => this._filter(value))\n    );\n  }\n\n  private _filter(value: string): string[] {\n    const filterValue = value.toLowerCase();\n\n    return this.options.filter(option => option.toLowerCase().includes(filterValue));\n  }\n\n  initForm(): FormGroup {\n    return this.stateForm = this.fb.group({\n      search: [null]\n    })\n  }\n\n  toggleDropDown(){\n    this.showDropDown = !this.showDropDown;\n  }\n\n  selectValue(value) {\n    this.aux = value.CITY_NAME + ', ' + value.COUNTRY_NAME;\n    this.stateForm.patchValue({\"search\": this.aux});\n    this.valueCity = value.CITY_NAME;\n    this.valueCountry = value.COUNTRY_NAME;\n    this.showDropDown = false;\n  }\n\n  getSearchValue() {\n    return this.stateForm.value.search;\n  }\n\n  initExplore(){\n    if(this.aux !== ''){\n      this.router.navigate(['/explorer/city/', this.aux]);\n      this.initCityData(this.aux)\n    }\n  }\n\n  explore(){\n    if(this.valueCity !== ''){\n      this.api.getCityData(this.valueCity, this.valueCountry).pipe(\n        tap((x) => this.cityData = x),\n        tap(() => \n        this.api.getCountryData(this.valueCountry).pipe(\n          tap((x) => this.countryData = x),\n          tap(() => this.exploration(this.cityData, this.countryData))\n        ).subscribe())\n      ).subscribe();\n    }\n  }\n\n  exploration(cityData, countryData){\n\n    this.disabled = false;\n\n    document.getElementById('explorecity').innerHTML = '';\n    document.getElementById('explorecountry').innerHTML = '';\n    document.getElementById('cityweather').innerHTML = '';\n    document.getElementById('pqli').innerHTML = '';\n    const targetDivCity = document.getElementById('explorecity');\n    const targetDivCountry = document.getElementById('explorecountry');\n\n    this.latitude = cityData[this.aux].Latitude;\n    this.longitude = cityData[this.aux].Longitude;\n\n    const cityDiv = document.createElement('div')\n    const countryDiv = document.createElement('div');\n\n    const city = document.createElement('h2');\n    const cityCpi = document.createElement('p');\n    const cityHealth = document.createElement('p');\n    const cityPollution = document.createElement('p');\n    const cityPurchasing = document.createElement('p');\n    const cityQli = document.createElement('h2');\n    const cityRent = document.createElement('p');\n    const citySafety = document.createElement('p');\n    const cityTraffic = document.createElement('p');\n\n    city.textContent = cityData[this.aux].City_name;\n    if(cityData[this.aux].Cpi === 0){\n      cityCpi.textContent = 'Cost of life index: No data';\n    } else {\n      cityCpi.textContent = 'Cost of life index ' + Math.round(cityData[this.aux].Cpi*100)/100;\n    }\n    cityHealth.textContent = 'Health index ' + cityData[this.aux].Health;\n    cityPollution.textContent = 'Pollution free index ' + cityData[this.aux].Pollution;\n    if(cityData[this.aux].Purchasing === 0){\n      cityPurchasing.textContent = 'Local purchasing power index: No data';\n    } else {\n      cityPurchasing.textContent = 'Local purchasing power index ' + Math.round(cityData[this.aux].Purchasing*100)/100;\n    }\n    cityQli.textContent = 'Global Quality life index in ' + cityData[this.aux].City_name + ': ' + cityData[this.aux].Qli;\n    cityRent.textContent = 'Rent index ' + cityData[this.aux].Rent;\n    citySafety.textContent = 'Safety index ' + (100 - cityData[this.aux].Safety);\n    cityTraffic.textContent = 'Traffic index ' + cityData[this.aux].Traffic;\n\n    cityDiv.append(city);\n\n    const citySalary = document.createElement('p');\n    this.cityDataSal = Math.round((cityData[this.aux].Salary*this.factorChange)*100)/100;\n    if(cityData[this.aux].Salary === 0){\n      citySalary.textContent = 'Average city salary: No data ';\n      this.cityDataSal = -1;\n    } else {\n      citySalary.textContent = 'Average city salary ' + Math.round((cityData[this.aux].Salary*this.factorChange)*100)/100 + ' ' + this.currentCurrencie;\n      this.cityDataSal = Math.round((cityData[this.aux].Salary*this.factorChange)*100)/100;\n    }\n    citySalary.id = 'citySalary';\n    cityDiv.append(citySalary);\n\n\n    cityDiv.append(cityCpi);\n    cityDiv.append(cityHealth);\n    cityDiv.append(cityPollution);\n    cityDiv.append(cityPurchasing);\n    cityDiv.append(cityRent);\n    cityDiv.append(citySafety);\n    cityDiv.append(cityTraffic);\n    targetDivCity.append(cityDiv);\n\n    const country = document.createElement('h2');\n    const countryCpi = document.createElement('p');\n    const countryDiversity = document.createElement('p');\n    const countryEmployment = document.createElement('p');\n    const countryEnvironment = document.createElement('p');\n    const countryInfraestructure = document.createElement('p');\n    const countryHealth = document.createElement('p');\n    const countryPollution = document.createElement('p');\n    const countryPurchasing = document.createElement('p');\n    const countrySafety = document.createElement('p');\n    const countrySalary = document.createElement('p');\n    const countryTraffic = document.createElement('p');\n\n    country.textContent = countryData[this.valueCountry].Country;\n    countryCpi.textContent = 'Cost of life index ' + Math.round(countryData[this.valueCountry].Cpi*100)/100;\n    countryDiversity.textContent = 'Diversity index ' + cityData[this.aux].Diversity;\n    if(cityData[this.aux].Employment === 0){\n      countryEmployment.textContent = 'Employment index: No data';\n    } else {\n      countryEmployment.textContent = 'Employment index ' + cityData[this.aux].Employment;\n    }\n    if(cityData[this.aux].Diversity === 0){\n      countryDiversity.textContent = 'Diversity index: No data';\n    } else {\n      countryDiversity.textContent = 'Diversity index ' + cityData[this.aux].Diversity;\n    }\n    if(cityData[this.aux].Environment === 0){\n      countryEnvironment.textContent = 'Environment index: No data';\n    } else {\n      countryEnvironment.textContent = 'Environment index ' + cityData[this.aux].Environment;\n    }\n    countryInfraestructure.textContent = 'Infraestructure index ' + cityData[this.aux].Infraestructure;\n    countryHealth.textContent = 'Health index ' + Math.round(countryData[this.valueCountry].Health);\n    countryPollution.textContent = 'Pollution free index ' + Math.round(countryData[this.valueCountry].Pollution);\n    countryPurchasing.textContent = 'Purchasing power index ' + Math.round(countryData[this.valueCountry].Purchasing_power*100)/100;\n    countrySafety.textContent = 'Safety index ' + Math.round(countryData[this.valueCountry].Safety);\n    if(countryData[this.valueCountry].Salary === 0){\n      countrySalary.textContent = 'Average national salary: No data';\n    } else {\n      countrySalary.textContent = 'Average national salary ' + Math.round((countryData[this.valueCountry].Salary*this.factorChange)*100)/100 + ' ' + this.currentCurrencie;\n    }\n    countrySalary.id = 'countrySalary';\n    this.countryDataSal = Math.round((countryData[this.valueCountry].Salary*this.factorChange)*100)/100;\n    countryTraffic.textContent = 'Traffic index ' + Math.round(countryData[this.valueCountry].Traffic);\n\n    countryDiv.append(country);\n    countryDiv.append(countryCpi);\n    countryDiv.append(countryDiversity);\n    countryDiv.append(countryEmployment);\n    countryDiv.append(countryEnvironment);\n    countryDiv.append(countryInfraestructure);\n    countryDiv.append(countryHealth);\n    countryDiv.append(countryPollution);\n    countryDiv.append(countryPurchasing);\n    countryDiv.append(countrySafety);\n    countryDiv.append(countrySalary);\n    countryDiv.append(countryTraffic);\n    targetDivCountry.append(countryDiv);\n    document.getElementById('cityweather').append(cityQli);\n\n    const weather = document.createElement('button');\n    const weatherLink = document.createElement('a');\n    weather.className = \"mat-menu-item btn --half\";\n    weather.textContent = 'Climate data of: ' + this.cityData[this.aux].City_name;\n    weatherLink.href = \"https://www.timeanddate.com/weather/\" + this.valueCountry.toLocaleLowerCase() +\n    '/' + this.valueCity.toLocaleLowerCase() + '/climate';\n    weatherLink.target = '_blank';\n    weatherLink.append(weather);\n    document.getElementById('cityweather').append(weatherLink);\n\n    //Mapa\n    this.onMapChange('Qli');\n  }\n\n  currencieChange(): void{\n    this.api.getCurrencyChange(this.currentCurrencie,this.selected).pipe(\n      tap((x) => this.changeCurrencieValues(x, this.selected))\n    ).subscribe();\n  }\n\n  changeCurrencieValues(factor, newCurrencie){\n    this.factorChange = factor;\n    let citySal = document.getElementById('citySalary');\n    if(this.cityDataSal !== -1){\n      citySal.innerHTML = \"\";\n      citySal.innerHTML = 'Average city salary ' + Math.round((this.cityDataSal*factor)*100)/100 + ' ' + newCurrencie;\n      this.cityDataSal = Math.round((this.cityDataSal*factor)*100)/100;\n    }\n    let countrySal = document.getElementById('countrySalary');\n    countrySal.innerHTML = \"\";\n    countrySal.innerHTML = 'Average country salary ' + Math.round((this.countryDataSal*factor)*100)/100 + ' ' + newCurrencie;\n    this.currentCurrencie = newCurrencie;\n    this.countryDataSal = Math.round((this.countryDataSal*factor)*100)/100;\n    localStorage.setItem('changedCurrencie', JSON.stringify(this.currentCurrencie))\n    if(this.currentCurrencie !== 'USD'){\n      localStorage.setItem('changedFactor', JSON.stringify(this.factorChange))\n    } else {\n      this.factorChange = 1;\n      localStorage.setItem('changedFactor', JSON.stringify(this.factorChange))\n    }\n  }\n\n  onMapChange(index): void {\n    document.getElementById(this.container).innerHTML=\"\";\n    this.api.getMapCities(index)\n    .pipe(\n      tap(data => this.map.buildMap(index, data, this.zoom, this.container, this.latitude, this.longitude, this.cityData[this.aux])),\n      tap(data => localStorage.setItem('Data', JSON.stringify(data))),\n    )\n    .subscribe();\n  }\n\n  personalIndex(){\n    const vec = ['Health','Infraestructure','Environment','Pollution','Safety','Rent','Employment','Diversity','Traffic']\n    let count = 0;\n    let sum = 0;\n    for(let i=0; i<vec.length; i++){\n      let element = (<HTMLInputElement>document.getElementById(vec[i])).checked;\n      if(element){\n        count++;\n        if(vec[i] === 'Safety'){\n          sum += (100 - this.cityData[this.aux][vec[i]])\n        } else {\n          sum += this.cityData[this.aux][vec[i]]\n        }\n      }\n    }\n    document.getElementById(\"pqli\").innerHTML = \"\";\n    if(count > 0){\n      const pqli = Math.round((sum/count)*100)/100;\n      document.getElementById(\"pqli\").innerText = \"\" + this.cityData[this.aux].City_name + \": \" + pqli;\n    } else {\n      document.getElementById(\"pqli\").innerText = \"No values checked\";\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.mySubscriptionExplore) {\n      this.mySubscriptionExplore.unsubscribe();\n    }\n  }\n}\n","<div class=\"--mt\">\n    <header class='--centered'>   \n        <div class=\"inputForm\">\n            <h2>City Explorer</h2>\n            <form [formGroup]='stateForm' novalidate>\n                <div class=\"pos-rel\">\n                    <label for=\"search\">\n                        <i class='fa fa-search color-purple'></i>\n                    </label>\n                    <input id=\"search\" placeholder=\"Select a city (Brussels, Belgium)\" (click)=\"toggleDropDown()\" formControlName=\"search\" class=\"input_underline search-bar\" type=\"text\">\n                    <div *ngIf=\"showDropDown\" class=\"state-container-dropdown\">\n                        <div>\n                            <div (click)=\"selectValue(s)\" class=\"state\" *ngFor=\"let s of states|searchFilter: getSearchValue()\">\n                                {{s.CITY_NAME}}, {{s.COUNTRY_NAME}}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </form>\n            <button mat-menu-item class=\"btn btn_explore\" value=\"enable\" (click)=\"initExplore()\">Explore city data</button>\n        </div>\n    </header>      \n    \n    <div class=\"--pd\">\n        <h2 class=\"--centered\">Personal quality life index: <span id=\"pqli\"></span></h2>\n        <div id=\"qliButtons\">\n            <div class=\"ck-button\">\n                <label>\n                   <input id=\"Health\" type=\"checkbox\" value=\"1\"><span>Health</span>\n                </label>\n            </div>\n            <div class=\"ck-button\">\n                <label>\n                   <input id=\"Infraestructure\" type=\"checkbox\" value=\"1\"><span>Infraestructure</span>\n                </label>\n            </div>\n            <div class=\"ck-button\">\n                <label>\n                   <input id=\"Environment\" type=\"checkbox\" value=\"1\"><span>Environment</span>\n                </label>\n            </div>\n            <div class=\"ck-button\">\n                <label>\n                   <input id=\"Pollution\" type=\"checkbox\" value=\"1\"><span>Pollution</span>\n                </label>\n            </div>\n            <div class=\"ck-button\">\n                <label>\n                   <input id=\"Safety\" type=\"checkbox\" value=\"1\"><span>Safety</span>\n                </label>\n            </div>\n            <div class=\"ck-button\">\n                <label>\n                   <input id=\"Rent\" type=\"checkbox\" value=\"1\"><span>Rent</span>\n                </label>\n            </div>\n            <div class=\"ck-button\">\n                <label>\n                   <input id=\"Employment\" type=\"checkbox\" value=\"1\"><span>Employment</span>\n                </label>\n            </div>\n            <div class=\"ck-button\">\n                <label>\n                   <input id=\"Diversity\" type=\"checkbox\" value=\"1\"><span>Diversity</span>\n                </label>\n            </div>\n            <div class=\"ck-button\">\n                <label>\n                   <input id=\"Traffic\" type=\"checkbox\" value=\"1\"><span>Traffic</span>\n                </label>\n            </div>\n            <button mat-menu-item class=\"btn\" [disabled]=\"disabled\" (click)=\"personalIndex()\">Calculate personal index value</button>\n        </div>\n    </div>\n    \n    <div class=\"--currencie --pd --centered\" id=\"currencieid\">\n        <button mat-menu-item class=\"btn_currency\" [disabled]=\"disabled\" id=\"currencie\" (click)=\"currencieChange()\">Change currencie</button>\n        <mat-form-field class=\"--pd\">\n            <mat-label>Select currencie</mat-label>\n            <mat-select [(value)]=\"selected\">\n              <mat-option *ngFor=\"let currencie of currencies\" [value]=\"currencie\" id=\"currencieoption\">\n                {{currencie}}\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n    </div>\n    \n    <div class=\"wrapper\">\n        <div id=\"explorecity\" class=\"wrapper__city --justified\"></div>\n        <div id=\"explorecountry\" class=\"wrapper__country --justified\"></div>\n    </div>\n    <div id=\"cityweather\" class=\"--justified\"></div>\n    <div id=\"mapExplorer\" class=\"map\"></div>\n    \n</div>\n"]}